!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=42)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){e.exports=r(7)},function(e,t){function r(e,t,r,n,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,c,"next",e)}function c(e){r(s,o,i,a,c,"throw",e)}a(void 0)}))}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n={loginRoleCheck:function(e,t){return"".concat("https://mem00t-w01.eztravel.com.tw/","auth/loginRoleCheck?secure=").concat(e,"&_=").concat(t)},isLogin:"".concat("https://mem00t-w01.eztravel.com.tw/","auth/isLogin"),unreadmsg:"".concat("https://mem00t-w01.eztravel.com.tw/member","/unreadmsg"),readstatus:"".concat("https://mem00t-w01.eztravel.com.tw/member","/readstatus"),checkContact:function(e){return"".concat("https://mem00t-w01.eztravel.com.tw/","auth/discount/checkContact?key=").concat(e)}},o={getToken:"".concat("https://mem00t-w01.eztravel.com.tw/","auth/uploadFile/genToken"),uploadGcp:"https://asia-east1-universe-229003.cloudfunctions.net/test_file_uploader"}},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},,function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),s=new E(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===l)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,s),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function f(){}function d(){}function h(){}var y={};y[o]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(x([])));v&&v!==t&&r.call(v,o)&&(y=v);var m=h.prototype=f.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,i){function s(){return new t((function(n,s){!function n(o,i,s,a){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}(o,i,n,s)}))}return n=n?n.then(s,s):s()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=m.constructor=h,h.constructor=d,d.displayName=a(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var s=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(m),a(m,s,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},,,function(e,t,r){r(11),e.exports=self.fetch.bind(self)},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",(function(){return y})),r.d(t,"Request",(function(){return L})),r.d(t,"Response",(function(){return E})),r.d(t,"DOMException",(function(){return k})),r.d(t,"fetch",(function(){return T}));var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,o="URLSearchParams"in n,i="Symbol"in n&&"iterator"in Symbol,s="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in n,c="ArrayBuffer"in n;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function y(e){this.map={},e instanceof y?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=v(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=v(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(e,t){e=f(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},y.prototype.delete=function(e){delete this.map[f(e)]},y.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},y.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},y.prototype.set=function(e,t){this.map[f(e)]=d(t)},y.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},y.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},y.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},y.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},i&&(y.prototype[Symbol.iterator]=y.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(e,t){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,o=(t=t||{}).body;if(e instanceof L){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new y(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new y(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),w.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function S(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new y(t.headers),this.url=t.url||"",this._initBody(e)}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})},b.call(L.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];E.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})};var k=n.DOMException;try{new k}catch(e){(k=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),k.prototype.constructor=k}function T(e,t){return new Promise((function(r,o){var i=new L(e,t);if(i.signal&&i.signal.aborted)return o(new k("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new y,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;setTimeout((function(){r(new E(o,n))}),0)},a.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){o(new k("Aborted","AbortError"))}),0)},a.open(i.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(s?a.responseType="blob":c&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof y?i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){a.setRequestHeader(e,d(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",u)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}T.polyfill=!0,n.fetch||(n.fetch=T,n.Headers=y,n.Request=L,n.Response=E)},,,,,,,function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},,function(e,t,r){var n=r(43);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(5),o=r(44);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?o(e):t}},function(e,t,r){var n,o,i;o=[t,e],void 0===(i="function"==typeof(n=function(e,t){"use strict";var r=5e3,n="callback";function o(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function i(e){try{delete window[e]}catch(t){window[e]=void 0}}function s(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=e,c=t.timeout||r,u=t.jsonpCallback||n,l=void 0;return new Promise((function(r,n){var f=t.jsonpCallbackFunction||o(),d=u+"_"+f;window[f]=function(e){r({ok:!0,json:function(){return Promise.resolve(e)}}),l&&clearTimeout(l),s(d),i(f)},a+=-1===a.indexOf("?")?"?":"&";var h=document.createElement("script");h.setAttribute("src",""+a+u+"="+f),t.charset&&h.setAttribute("charset",t.charset),h.id=d,document.getElementsByTagName("head")[0].appendChild(h),l=setTimeout((function(){n(new Error("JSONP request to "+e+" timed out")),i(f),s(d),window[f]=function(){i(f)}}),c),h.onerror=function(){n(new Error("JSONP request to "+e+" failed")),i(f),s(d),l&&clearTimeout(l)}}))}})?n.apply(t,o):n)||(e.exports=i)},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(20),o=r.n(n),i=r(21),s=r.n(i),a=r(18),c=r.n(a),u=r(2),l=r.n(u),f=r(3),d=r.n(f),h=r(0),y=r.n(h),p=r(1),v=r.n(p),m=(r(10),r(22)),g=r.n(m),b=r(4);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c()(e);if(t){var o=c()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s()(this,r)}}function L(e){e.preventDefault(),ezLogin.show()}var S="https://mem00t-w01.eztravel.com.tw/member",E=function(){function e(){y()(this,e)}return v()(e,[{key:"menuHover",value:function(e){e.addEventListener("mouseenter",(function(){e.classList.add("hover")})),e.addEventListener("mouseleave",(function(){e.classList.remove("hover")}))}},{key:"mMenuToggle",value:function(){var e=document.getElementById("menuMB"),t=document.getElementById("maskDiv"),r=document.querySelectorAll(".toggleTag"),n=document.body;r.forEach((function(r){r.addEventListener("click",(function(r){r.preventDefault(),r.target.classList.contains("isLogin")&&(e.classList.toggle("open"),t.classList.toggle("show"),n.classList.toggle("hideScrollbar"))}))})),t.addEventListener("click",(function(r){r.preventDefault(),e.classList.remove("open"),t.classList.remove("show"),n.classList.remove("hideScrollbar")}))}},{key:"mobilePCMenu",value:function(e){var t=this;e.forEach((function(r){"Desktop"!==ez.deviceType()?r.addEventListener("touchend",(function(t){r.classList.contains("hover")?r.classList.remove("hover"):(t.preventDefault(),e.forEach((function(e){e.classList.remove("hover")})),r.classList.add("hover"))})):t.menuHover(r)}))}},{key:"init",value:function(){var e=document.querySelectorAll(".dropdown");this.mMenuToggle(),this.mobilePCMenu(e)}}]),e}(),x=function(){function e(){y()(this,e)}var t,r;return v()(e,[{key:"readCookie",value:function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}},{key:"fetchStatus",value:(r=d()(l.a.mark((function e(){var t,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https:"===location.protocol,r=b.a.loginRoleCheck(t,(new Date).getTime()),e.next=4,fetch(r,{credentials:"include"}).then((function(e){return e.text()})).then((function(e){return/^B2V|B2E|B2C|B2B|B2F|O2V|ERP|WEBORDER/.test(e)?e:""===e?"NotLogin":"WrongRole"}));case 4:n=e.sent,this.checkStatus(n);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"checkStatus",value:function(e){switch(e){case"B2B":case"B2C":case"B2E":case"B2V":case"B2F":case"O2V":case"FO2V":case"ERP":case"WEBORDER":this.checkisLogin(e);break;case"WrongRole":console.log("身份錯誤，請先登出其他環境");break;case"NotLogin":default:this.login()}}},{key:"business",value:function(e){var t=document.querySelector(".logout"),r=document.querySelector("#ezuser"),n=document.querySelector("#menuMB"),o=r.querySelector(".servicelist"),i=e.custName&&"undefined"!==e.custName?e.custName:"親愛的會員",s="Hi, ".concat(i);t.style.display="none";var a=r.querySelector("#userName");a.classList.add("noCursor"),a.innerHTML='<i class="icon-user"></i>'.concat(s),o.querySelector(".general")&&(o.querySelector(".general").style.display="none"),n.querySelector(".userBox.general").style.display="none",n.querySelector(".userBox.visit").style.display="block",n.querySelector(".userBox.visit").innerHTML='<i class="icon-user"></i><span>'.concat(s,"</span>")}},{key:"checkisLogin",value:(t=d()(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.a.isLogin,e.next=3,fetch(r,{credentials:"include"}).then((function(e){return e.json()})).then((function(e){return e}));case 3:if(n=e.sent,"WEBORDER"!==t){e.next=7;break}return this.business(n),e.abrupt("return");case 7:this.renderConsumer(n,t);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"tenDaysAfter",value:function(e){var t=e.substring(0,4),r=e.substring(4,6),n=e.substring(6,8),o=new Date("".concat(t,"-").concat(r,"-").concat(n));return new Date(o.setDate(o.getDate()+10))}},{key:"visitedCookie",value:function(e){return document.cookie.indexOf("visited=")>=0||(document.cookie="visited=true;domain=.eztravel.com.tw;path=/;expires=".concat(e.toUTCString(),";").concat(""),!1)}},{key:"levelTwoUp",value:function(e){var t='<div class="member"><span class="level-'.concat(e.custLevel,'">').concat(e.custLevelDesc,"</span></div>"),r=document.querySelector(".servicelist"),n=document.querySelector("#member-card");r.insertAdjacentHTML("afterbegin",t);var o=this.tenDaysAfter(e.lastLevelupDt),i=this.visitedCookie(o),s=(new Date).getTime();if(new Date("2021-06-30").getTime()>s&&!i&&o.getTime()>s){var a='<a class="level-info" onClick="closeLevelInfo(this)"\n        href="https://member.eztravel.com.tw/member/serviceFAQ?tab=membership&nav=memberTiers" target="_blank" rel="noreferrer">\n        <div class="reward-close" onClick="closeLevelInfo(this)"></div>\n        <div class="card-'.concat(e.custLevel,'"></div>\n        <h3>恭喜您升級為 <span>').concat(e.custLevelDesc,'</span></h3>\n        <span class="level-span">您可以享有以下好康</span>\n        <p><span class="reward-title">生日大禮金</span> <span class="level-reward">$2,100</span></p>\n        <p><span class="reward-title">eMoney回饋</span> <span class="level-reward">').concat("003"===e.custLevel?"200%":"150%","</span></p>\n      </a>");n.insertAdjacentHTML("afterbegin",a)}}},{key:"renderConsumer",value:function(e,t){var r,n=document.querySelector("#userName"),o=document.querySelector(".logout"),i=document.querySelectorAll(".login"),s=document.querySelector("#ezuser"),a=s.querySelector(".servicelist"),c=a.querySelector(".generalLogin"),u=document.querySelector("#menuMB"),l=document.querySelector("#menuMBBox #showmenu"),f=document.querySelector("#userNameMB"),d=document.querySelector(".headerUser .b2e"),h='\n      <i class="icon-user" '.concat(e.socialPic?(r=e.socialPic,"style=\"background: url('".concat(r,"') center center no-repeat; background-size: cover;\"")):"",">\n        ").concat(["002","003"].includes(e.custLevel)?'<span class="level-"'+e.custLevel+"></span>":"","\n      </i>\n    ");"002"!==e.custLevel&&"003"!==e.custLevel||this.levelTwoUp(e);var y=e.custName&&"undefined"!==e.custName?e.custName:"親愛的會員",p="Hi, ".concat(y);s.classList.add("in"),n.innerHTML="".concat(h," ").concat(p),a.querySelector(".general")&&(a.querySelector(".general").style.display="none"),u.classList.add("in"),l.classList.remove("ezLogin"),l.removeEventListener("click",L),l.classList.add("isLogin"),f.innerHTML="".concat(h," <span>").concat(p,"</span>"),o.style.display="none",["B2B","B2F"].includes(t)?(c.querySelector(".emoney").style.display="none",u.querySelector(".emoney").style.display="none",c.querySelector(".ezuserMember").style.display="none",u.querySelector(".ezuserMember").style.display="none"):(c.querySelector(".emoney").style.display="block",u.querySelector(".emoney").style.display="block"),["B2F"].includes(t)?(c.querySelector(".discount-manage").style.display="none",u.querySelector(".discount-manage").style.display="none"):(c.querySelector(".discount-manage").style.display="block",u.querySelector(".discount-manage").style.display="block"),["B2V","O2V","FO2V","ERP"].includes(t)?this.guestLogin(e,h,p):this.memberLogin(e,h,p);"B2E"===t&&d.setAttribute("href","".concat(function(e){switch(e){case"PRD":return"https://b2e.eztravel.com.tw/";case"WS":return"https://b2e-ws.eztravel.com.tw/";case"TEST":default:return"https://b2e-test.eztravel.com.tw/"}}("TEST"))),this.signOut(i)}},{key:"guestLogin",value:function(e,t,r){var n=document.querySelector("#ezmessages"),o=document.querySelector("#ezuser"),i=document.querySelector("#menuMB"),s=o.querySelector(".servicelist");n.style.display="none",o.style.paddingRight="0",i.querySelector(".userBox.general").style.display="none",i.querySelector(".userBox.visit").style.display="block",i.querySelector(".userBox.visit").innerHTML="".concat(t,'<span style="cursor: default;">').concat(r,"</span>");var a=e.orderManagementLink;s.querySelector(".visit").style.display="block",s.querySelector(".visitOrder > a").setAttribute("href",a),i.querySelector(".servicelist .generalLogin").style.display="none",i.querySelector(".servicelist .visit").style.display="block",i.querySelector(".servicelist .visitOrder > a").setAttribute("href",a)}},{key:"memberLogin",value:function(e,t,r){var n=document.querySelector("#ezuser").querySelector(".servicelist"),o=document.querySelector("#menuMB"),i=e.orderManagementLink;n.querySelector(".generalLogin").style.display="block",n.querySelector(".generalLogin .orderInfo > a").setAttribute("href",i),o.querySelector(".userBox.general").innerHTML="".concat(t,"<span>").concat(r,"</span>"),o.querySelector(".generalLogin .orderInfo > a").setAttribute("href",i),headerUnreadMsg.getMessages()}},{key:"loadJS",value:function(e,t,r){var n=document,o=n.getElementsByTagName("head")[0],i=n.createElement("script");i.type="text/javascript",i.id=e,i.src=t,i.async=r,o.appendChild(i)}},{key:"login",value:function(){document.querySelector(".logout");var e=ezuser.querySelector(".servicelist"),t=ez.gcpCdnExUrl("assets/jslib","","assets/jslib","ezLogin.js");this.loadJS("ezLoginJs",t,!0),document.querySelectorAll(".ezLogin").forEach((function(e){e.addEventListener("click",L)})),document.querySelectorAll(".btnSignup").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),ezLogin.show({page:"reg"})}))})),e.querySelector(".ezuserOrder > a").addEventListener("click",(function(e){e.preventDefault(),ezLogin.show({onComplete:function(){window.location.href=S+"/order/orderInfo"}})})),e.querySelector(".ezuserNonMemberOrder > a").addEventListener("click",(function(e){e.preventDefault(),ezLogin.show({page:"nonMember"})})),e.querySelector(".ezuserEmoney > a").addEventListener("click",(function(e){e.preventDefault(),ezLogin.show({onComplete:function(){window.location.href=S+"/emoney"}})})),e.querySelector(".ezuserDiscount > a").addEventListener("click",(function(e){e.preventDefault(),ezLogin.show({onComplete:function(){window.location.href=S+"/discount/manage"}})})),e.querySelector(".ezuserMember > a").addEventListener("click",(function(e){e.preventDefault(),ezLogin.show({onComplete:function(){window.location.href=S+"/dashboard"}})}))}},{key:"signOut",value:function(e){e.forEach((function(e){e.querySelector("a.signout").setAttribute("href","".concat(S,"/logout"))}))}},{key:"init",value:function(){var e=this;window.headerUnreadMsg=new k,this.fetchStatus(),window.onpageshow=function(e){e.persisted&&document.querySelectorAll(".dropdown").forEach((function(e){e.classList.remove("hover")}))},window.headerRefresh=function(){e.fetchStatus()}}}]),e}(),k=function(e){o()(n,e);var t,r=w(n);function n(){return y()(this,n),r.apply(this,arguments)}return v()(n,[{key:"getMessages",value:(t=d()(l.a.mark((function e(){var t,r,n,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector("#ezmessages"),r=document.querySelector(".msgListCnt"),n=b.a.unreadmsg,!t){e.next=10;break}return t.style.display="inline-block",r.innerHTML="<div class='loadingMsg'></div>",e.next=8,g()(n,{timeout:6e4}).then((function(e){return e.json()})).then((function(e){return e}));case 8:o=e.sent,this.renderMessagesLists(o);case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderMessagesLists",value:function(e){var t,r=this,n=document.querySelector(".msgListCnt"),o=document.querySelector("#ezmessages"),i=o.querySelector(".markAllAsRead");if(0===e)t="<div class='noMsg'><i class='icon-messages-gray'></i>未有新訊息</div>";else{var s=document.createElement("UL"),a=!0,c=[],u=e.map((function(e){return e.isRead||(a=e.isRead,c.push(e.msgNo)),'\n        <li>\n          <a href="'.concat(S,"/order/orderProd?orderNo=").concat(e.encryptedMsgNo,'&tab=3"\n            ').concat(e.isRead?'class="read"':"",'\n            ><div\n              class="ordPic"\n              style=\'background-image: url("').concat(r.replaceImgUrl(e.imageUrl),'");\'\n            ></div>\n            <div class="ordMsg">\n              <div class="msgProdNm truncate">').concat(e.prodName,'</div>\n              <div class="msg truncate">').concat(e.msgContent,'</div>\n              <div class="time">').concat(e.formatCreateDt,"</div>\n            </div>\n            ").concat(e.unreadCount>0?'<span class="red dot">'.concat(e.unreadCount,"</span>"):"","\n          </a>\n        </li>")}));a?(o.querySelector(".dot").classList.remove("red"),i.classList.add("disabled"),i.removeEventListener("click",(function(){r.markAsRead(c.toString())}))):(o.querySelector(".dot").classList.add("red"),i.classList.remove("disabled"),i.addEventListener("click",(function(){r.markAsRead(c.toString())}))),s.innerHTML=u.join(""),t=s.outerHTML}n.innerHTML=t}},{key:"replaceImgUrl",value:function(e){return e=e.replace("http://","//")}},{key:"delayHover",value:function(){var e,t=document.querySelector("#ezmessages");t&&(t.addEventListener("mouseenter",(function(){e=setTimeout((function(){t.classList.add("hover")}),500)})),t.addEventListener("mouseleave",(function(){clearTimeout(e),e=setTimeout((function(){t.classList.remove("hover")}),500)})))}},{key:"markAsRead",value:function(e){var t=b.a.readstatus,r=document.querySelector("#ezmessages");$.ajax({url:t,method:"GET",data:{orders:e},timeout:6e4,dataType:"jsonp",crossDomain:!0,success:function(e){200===e?(headerUnreadMsg.getMessages(),headerUnreadMsg.delayHover()):document.createEvent("Event").initEvent("unreadMsg.markAsReadDone",!0,!0)},error:function(){r.style.display="none"}})}}]),n}(x),T=new E,q=new x;window.closeLevelInfo=function(e){var t=document.querySelector(".level-info");e.classList.contains("reward-close")&&(event.stopPropagation(),event.preventDefault(),event.cancelBubble=!0),t.remove()};try{T.init(),q.init()}catch(e){console.log(e)}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}]);